<div class="max-w-7xl mx-auto px-6 py-8">
    <div class="rounded-2xl bg-gradient-to-r from-emerald-700 to-emerald-600 p-6 flex items-center justify-between">
        <div>
            <h1 class="text-2xl font-semibold text-white">{{ title }}</h1>
            <p class="text-emerald-100">{{ subtitle }}</p>
        </div>
        <a [routerLink]="returnTo ?? '/usuarios'"
            class="rounded-xl border border-emerald-200/50 bg-emerald-600/30 text-white px-4 py-2 hover:bg-white/10">Volver</a>
    </div>

    <form (ngSubmit)="save()" [formGroup]="form"
        class="mt-6 bg-white rounded-2xl border border-slate-200 shadow p-6 grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
            <label class="block text-slate-700 mb-2">Nombre *</label>
            <input formControlName="nombre" class="w-full rounded-xl border border-slate-300 px-4 py-2.5">
        </div>
        <div>
            <label class="block text-slate-700 mb-2">Apellido *</label>
            <input formControlName="apellido" class="w-full rounded-xl border border-slate-300 px-4 py-2.5">
        </div>
        <div>
            <label class="block text-slate-700 mb-2">Correo *</label>
            <input formControlName="email" type="email" class="w-full rounded-xl border border-slate-300 px-4 py-2.5">
        </div>
        <div>
            <label class="block text-slate-700 mb-2">Usuario *</label>
            <input type="text" formControlName="username" class="w-full rounded-xl border border-slate-300 px-4 py-2.5"
                readonly>
            <p class="mt-1 text-xs text-slate-500">Se sugiere automáticamente a partir del nombre y apellido.</p>
        </div>
        <div>
            <label class="block text-slate-700 mb-2">Rol *</label>
            <select formControlName="idrol" class="w-full rounded-xl border border-slate-300 px-4 py-2.5">
                <option [value]="3">Selecciona una opción</option>
                <option [value]="1">Administrador</option>
                <option [value]="2">Vendedor</option>

            </select>
        </div>
        <div>
            <label class="block text-slate-700 mb-2">Fecha ingreso *</label>
            <input type="date" formControlName="fechaalta"
                class="w-full rounded-xl border border-slate-300 px-4 py-2.5">
        </div>

        <div class="flex items-center gap-3 mt-4">
            <label class="block text-slate-700">Estado</label>
            <label class="inline-flex items-center cursor-pointer">
                <input type="checkbox" formControlName="activo" class="sr-only peer" />
                <div class="relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-emerald-500 rounded-full peer dark:bg-gray-700
             peer-checked:after:translate-x-full peer-checked:after:border-white
             after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all
             peer-checked:bg-emerald-600">
                </div>
                <span class="ml-3 text-sm font-medium" [ngClass]="{
            'text-emerald-700': form.get('activo')?.value,
            'text-rose-600': !form.get('activo')?.value
          }">
                    {{ form.get('activo')?.value ? 'Activo' : 'Inactivo' }}
                </span>
            </label>
        </div>

        <p class="mt-2 text-[15px] text-slate-500">
            * La contraseña se generará automáticamente y se enviará al correo registrado.
        </p>

        <div class="md:col-span-2">
            <button *ngIf="!isView" type="submit"
                class="w-full rounded-2xl bg-emerald-600 text-white text-lg font-medium px-6 py-2.5 hover:bg-emerald-700">
                {{ isEdit ? 'Guardar cambios' : 'Registrar Nuevo Usuario' }}
            </button>
        </div>
    </form>
</div>